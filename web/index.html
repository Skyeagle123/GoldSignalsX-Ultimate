<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GoldSignalsX â€¢ Ultimate Mobile Panel</title>

  <style>
    :root{
      --bg:#05070b;
      --panel:#101822;
      --ink:#f5f7fb;
      --muted:#9aa6b8;
      --accent:#ffa62b;
      --line:#1f2b3a;
      --good:#1fd18a;
      --bad:#ff5c6c;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:radial-gradient(circle at top,#172433 0,#05070b 60%);
      color:var(--ink);
      font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }
    .wrap{
      max-width:1120px;
      margin:0 auto;
      padding:10px;
    }
    .card{
      background:rgba(10,15,23,0.96);
      border:1px solid var(--line);
      border-radius:16px;
      padding:10px;
      box-shadow:0 14px 40px rgba(0,0,0,0.4);
      backdrop-filter:blur(18px);
      margin-bottom:8px;
    }
    h1{
      margin:0 0 4px;
      font-size:18px;
      text-align:center;
      color:#ffd46b;
    }
    .subtitle{
      text-align:center;
      font-size:11px;
      color:var(--muted);
      margin-bottom:6px;
    }
    .row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:center;
    }
    label{font-size:11px;color:var(--muted);}
    input,select,button{
      border-radius:10px;
      border:1px solid var(--line);
      background:#050a12;
      color:var(--ink);
      padding:7px 9px;
      font:inherit;
    }
    input,select{
      min-width:120px;
    }
    input[type="number"]{
      width:80px;
      text-align:center;
    }
    button{
      cursor:pointer;
      background:#111b28;
      transition:background 0.12s,transform 0.08s;
    }
    button.primary{
      background:var(--accent);
      color:#000;
      border-color:#e28d12;
    }
    button:hover{
      background:#182433;
      transform:translateY(-1px);
    }
    button.primary:hover{
      background:#ffb548;
    }
    button:disabled{opacity:.6;cursor:not-allowed;transform:none;}

    .seg{
      display:inline-flex;
      padding:2px;
      border-radius:999px;
      background:#050a12;
      border:1px solid var(--line);
      overflow:hidden;
    }
    .seg button{
      background:transparent;
      border:0;
      padding:5px 9px;
      font-size:11px;
      color:var(--muted);
      min-width:0;
    }
    .seg button.active{
      background:#1a2838;
      color:var(--ink);
      border-radius:999px;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:5px;
      padding:2px 8px;
      border-radius:999px;
      font-size:11px;
      background:#0b121d;
      border:1px solid #1f2b3a;
      color:var(--muted);
    }
    .pill .dot{
      width:7px;height:7px;border-radius:50%;
      background:#ffb548;
      box-shadow:0 0 8px rgba(255,181,72,.9);
    }
    #status{
      font-size:11px;
      color:var(--muted);
    }

    #chart{
      height:58vh;
      min-height:320px;
    }

    .indicators-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(130px,1fr));
      gap:6px;
    }
    .ibox{
      padding:6px 7px;
      border-radius:12px;
      background:#050a12;
      border:1px solid #1d2835;
    }
    .ibox-label{
      font-size:11px;
      color:var(--muted);
      margin-bottom:2px;
      display:flex;
      justify-content:space-between;
      gap:6px;
    }
    .ibox-value{
      font-size:14px;
      font-weight:500;
    }
    .ibox-value.good{color:var(--good);}
    .ibox-value.bad{color:var(--bad);}
    .ibox-extra{
      font-size:10px;
      color:var(--muted);
      margin-top:1px;
    }

    #advice{
      font-size:13px;
      margin-top:2px;
    }
    #advice.good{color:var(--good);}
    #advice.bad{color:var(--bad);}
    #advice.neutral{color:var(--muted);}

    #candle-pattern{
      font-size:12px;
    }

    #log{
      font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
      font-size:11px;
      white-space:pre-wrap;
      max-height:130px;
      overflow:auto;
      color:#cbd7e6;
      direction:ltr;
    }

    @media(max-width:640px){
      .wrap{padding:6px;}
      .card{padding:8px;}
      #chart{height:52vh;}
    }
  </style>

  <!-- lightweight-charts Ù„Ù„Ø´Ø§Ø±Øª -->
  <script src="https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
  <div class="wrap">
    <!-- Ø±Ø£Ø³ -->
    <div class="card">
      <h1>GoldSignalsX â€¢ Ultimate</h1>
      <div class="subtitle">Ø³Ø¹Ø± Ø­ÙŠ + Ø´Ù…ÙˆØ¹ ÙŠØ§Ø¨Ø§Ù†ÙŠØ© + Ù…Ø¤Ø´Ø±Ø§Øª (EMA, RSI, Stoch, MACD) + Ù†ØµÙŠØ­Ø© Ø¯Ø®ÙˆÙ„/Ø®Ø±ÙˆØ¬</div>

      <div class="row" style="margin-bottom:4px">
        <div class="pill">
          <span class="dot"></span>
          <span>Ù…ØªØµÙ„ Ø¨Ù€ Worker</span>
        </div>
        <div style="flex:1 1 auto"></div>
        <span id="status">Ø¬Ø§Ù‡Ø²â€¦</span>
      </div>

      <div class="row" style="margin-bottom:6px">
        <div style="flex:1 1 220px;">
          <label>Worker URL</label><br/>
          <input id="worker-url" dir="ltr"
                 value="https://goldsignalsx-worker.samer_mourtada.workers.dev"
                 placeholder="https://goldsignalsx-worker.samer_mourtada.workers.dev" />
        </div>
        <div>
          <label>TF</label><br/>
          <select id="tf">
            <option value="1m">1m</option>
            <option value="5m">5m</option>
            <option value="15m">15m</option>
            <option value="30m">30m</option>
            <option value="60m">60m</option>
            <option value="240m">240m</option>
            <option value="1d">D1</option>
          </select>
        </div>
        <div>
          <label>Limit</label><br/>
          <input id="limit" type="number" value="800" min="50" max="5000" />
        </div>
      </div>

      <div class="row" style="margin-bottom:6px">
        <button id="btn-save" class="btn">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</button>
        <button id="btn-price" class="btn primary">ğŸ’² ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­ÙŠ</button>
        <button id="btn-bars" class="btn">ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„Ø´Ù…ÙˆØ¹ ÙˆØ±Ø³Ù… Ø§Ù„Ø´Ø§Ø±Øª</button>
      </div>

      <div class="row" style="margin-bottom:4px">
        <div>
          <label>Ù…ÙˆØ¯ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª</label><br/>
          <div id="mode-seg" class="seg">
            <button data-mode="fast" class="active">Ø³Ø±ÙŠØ¹</button>
            <button data-mode="safe">Ø­Ø°Ø±</button>
            <button data-mode="smart">Ø°ÙƒÙŠ</button>
          </div>
        </div>
        <div>
          <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙˆÙ‚</label><br/>
          <div id="market-seg" class="seg">
            <button data-market="auto" class="active">ØªÙ„Ù‚Ø§Ø¦ÙŠ</button>
            <button data-market="trend">ØªØ±Ù†Ø¯</button>
            <button data-market="range">Ø±Ø§Ù†Ø¬</button>
            <button data-market="flat">Ø­ÙŠØ§Ø¯ÙŠ</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Ø§Ù„Ø´Ø§Ø±Øª -->
    <div class="card">
      <div id="chart"></div>
    </div>

    <!-- Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª + Ø§Ù„Ø´Ù…ÙˆØ¹ Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ÙŠØ© + Ø§Ù„Ù†ØµÙŠØ­Ø© -->
    <div class="card">
      <div class="indicators-grid">
        <div class="ibox">
          <div class="ibox-label">
            <span>RSI (14)</span>
            <span id="rsi-trend" class="ibox-extra"></span>
          </div>
          <div id="rsi-value" class="ibox-value">â€”</div>
          <div class="ibox-extra">30 Ø¨ÙŠØ¹ Ù…Ø¨Ø§Ù„Øº / 70 Ø´Ø±Ø§Ø¡ Ù…Ø¨Ø§Ù„Øº</div>
        </div>

        <div class="ibox">
          <div class="ibox-label">
            <span>Stoch (14,3)</span>
            <span id="stoch-trend" class="ibox-extra"></span>
          </div>
          <div id="stoch-value" class="ibox-value">â€”</div>
          <div class="ibox-extra">%K / %D</div>
        </div>

        <div class="ibox">
          <div class="ibox-label">
            <span>MACD (12,26,9)</span>
            <span id="macd-trend" class="ibox-extra"></span>
          </div>
          <div id="macd-value" class="ibox-value">â€”</div>
          <div class="ibox-extra">Ø§Ù„Ø®Ø· / Ø§Ù„Ø¥Ø´Ø§Ø±Ø© / Ø§Ù„Ù‡Ø³ØªÙˆØºØ±Ø§Ù…</div>
        </div>

        <div class="ibox">
          <div class="ibox-label">
            <span>EMA</span>
            <span id="ema-trend" class="ibox-extra"></span>
          </div>
          <div id="ema-value" class="ibox-value">â€”</div>
          <div class="ibox-extra">Ø³Ø±ÙŠØ¹Ø© (9) / Ø¨Ø·ÙŠØ¦Ø© (21)</div>
        </div>
      </div>

      <hr style="border-color:#1f2b3a;margin:8px 0"/>

      <div class="row" style="gap:10px;align-items:flex-start;">
        <div style="flex:2 1 200px;">
          <label>Ù†ØµÙŠØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø§Ù„Ø®Ø±ÙˆØ¬</label>
          <div id="advice" class="neutral">â€”</div>
        </div>
        <div style="flex:1 1 160px;">
          <label>Ù†Ù…Ø· Ø§Ù„Ø´Ù…ÙˆØ¹ Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ÙŠØ© (Ø¢Ø®Ø± Ø´Ù…ÙˆØ¹)</label>
          <div id="candle-pattern">â€”</div>
        </div>
      </div>
    </div>

    <!-- Log -->
    <div class="card">
      <div style="font-size:11px;color:var(--muted);margin-bottom:4px;">Log Ù…Ø®ØªØµØ±:</div>
      <div id="log"></div>
    </div>
  </div>

  <script src="app_mobile.js"></script>
</body>
</html>
